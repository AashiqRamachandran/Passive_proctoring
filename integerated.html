<!DOCTYPE html>
<html>
   <head>
      <title>RWQ</title>
      <script src= 
         "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"> </script> 
      <script>
         var hidden, visibilityChange; 
         if (typeof document.hidden !== "undefined") { // Opera 12.10 and Firefox 18 and later support 
           hidden = "hidden";
           visibilityChange = "visibilitychange";
         } else if (typeof document.msHidden !== "undefined") {
           hidden = "msHidden";
           visibilityChange = "msvisibilitychange";
         } else if (typeof document.webkitHidden !== "undefined") {
           hidden = "webkitHidden";
           visibilityChange = "webkitvisibilitychange";
         }
         
         function handleVisibilityChange() {
           if (document[hidden]) {
             alert("Dear user, we have noticed that you had switched tabs. Please refrain from doing so as it will lead to the test ending.");
           }
         }
         document.addEventListener("visibilitychange", handleVisibilityChange, false);
      </script>
      <script>
         //Check if online or offline
                 function isOnline() { 
           
                     if (navigator.onLine) { 
                         document.getElementById( 
                           "demo").innerHTML = "Online"; 
                     } else { 
                         document.getElementById( 
                           "demo").innerHTML = "Offline"; 
                     } 
                 } 
             
      </script>
      <script>
         //get OS
                 function operatingSytem() {  
                     var OSName="Unknown OS"; 
                     if (navigator.appVersion.indexOf("Win")!=-1) OSName="Windows"; 
                     if (navigator.appVersion.indexOf("Mac")!=-1) OSName="MacOS"; 
                     if (navigator.appVersion.indexOf("X11")!=-1) OSName="UNIX"; 
                     if (navigator.appVersion.indexOf("Linux")!=-1) OSName="Linux"; 
                       
                     // Display the OS name 
                     document.getElementById("OS").innerHTML = OSName; 
                 }  
             
      </script>  
      <script>
         //Get IP
                 // Add "https://ipinfo.io" statement 
                 // this will communicate with the ipify servers  
                 // in order to retrieve the IP address 
           
                 $.get("https://ipinfo.io", function(response) { 
                     alert("User IP is: "+response.ip); 
                 }, "json") 
           
                 // "json" shows that data will be fetched in json format 
             
      </script> 
      <script>
         //disabling right click
         	document.addEventListener("contextmenu", function(e){
             		e.preventDefault();
         	}, false);
             
      </script>
      <style>
         /*disabling right click 2nd layer*/
         .unselectable {
         -webkit-user-select: none;
         -webkit-touch-callout: none;
         -moz-user-select: none;
         -ms-user-select: none;
         user-select: none;
         color: #cc0000;
         }
      </style>
   </head>
   <body>
      <center>
         <h1>Passive Proctoring</h1>
      </center>
      <div class="unselectable">
         <p>
            </br></br>
            1.This text is an example of preventing text selection</br></br>
            2.This is an example of preventing pasting of answers in answer boxes</br></br>
            Q.If faced with a ransomeware attack what is the prescribed measures?</br>
            <input type="text" onselectstart="return false" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false" autocomplete=off/>
            </br></br>
            <button ondblclick="operatingSytem()">  
            This button shows the OS of the user  
            </button>
         <p id="OS"></p>
         <button onclick="isOnline()"> 
         This button checks if the user is online or offline
         </button> 
         <p id="demo"></p>
         </br>
         <div id="height">Height: <span></span></div>
         <div id="width">Width: <span></span></div>
         <script>       
            //get the height and width of the screen to detect resizing
                    const height = document.querySelector("#height span"); 
                    const width = document.querySelector("#width span"); 
                       
                    // Insert values on load of page 
                    window.onload = function() { 
                        height.innerHTML = window.innerHeight; 
                        width.innerHTML = window.innerWidth; 
                    }; 
                       
                    // Change values when window is resized 
                    window.onresize = function() {
                        // Setting the current height & width 
                        // to the elements 
                        height.innerHTML = window.innerHeight;  
                        width.innerHTML = window.innerWidth;
            	    alert("We have noticed that your browser window was resized, please refrain from doing so in the future as that would lead to the test ending");	    
            
                    }; 
                
         </script>
         <form action="ending.html" id="end test">
            </br><input type="submit" onclick=a.html/>
         </form>
      </div>
   </body>
</html>
